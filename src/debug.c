#include <time.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <signal.h>
#include "emokit.h"

#define LENGTH(x)   (sizeof(x) / sizeof((x)[0]))
#define DEF_ROW     14
#define DEF_COLUMN  258

int quit;

int dummy_data[DEF_COLUMN][DEF_ROW] = {
    {8466,8102,9095,8454,8066,8440,8001,8428,8076,8943,8168,8876,8789,8036},
    {8455,8085,9104,8441,8060,8423,8010,8396,8069,8941,8160,8866,8788,8029},
    {8472,8084,9097,8448,8077,8409,8010,8368,8045,8912,8193,8820,8783,8041},
    {8470,8101,9104,8455,8054,8435,8008,8416,8071,8946,8157,8877,8787,8024},
    {8470,8087,9113,8443,8069,8427,8013,8381,8066,8936,8169,8847,8794,8036},
    {8466,8093,9091,8452,8069,8440,8005,8406,8065,8952,8173,8871,8786,8032},
    {8457,8077,9099,8443,8059,8412,8008,8370,8040,8914,8149,8837,8792,8030},
    {8467,8080,9111,8445,8075,8399,8012,8352,8030,8882,8176,8798,8788,8043},
    {8472,8111,9092,8463,8061,8449,8000,8438,8086,8956,8166,8892,8788,8024},
    {8470,8090,9111,8446,8073,8426,8009,8387,8064,8936,8170,8851,8801,8036},
    {8473,8095,9112,8454,8067,8425,8010,8397,8054,8939,8170,8862,8779,8032},
    {8470,8087,9094,8448,8053,8421,8007,8394,8055,8931,8154,8853,8777,8024},
    {8466,8078,9111,8438,8080,8394,8013,8344,8029,8866,8177,8775,8793,8044},
    {8471,8117,9101,8462,8061,8444,8004,8431,8078,8952,8161,8884,8787,8025},
    {8471,8096,9099,8449,8059,8441,8008,8404,8076,8975,8165,8886,8791,8034},
    {8463,8085,9106,8445,8066,8430,8008,8389,8061,8950,8174,8858,8786,8041},
    {8457,8084,9099,8449,8047,8421,8007,8395,8054,8932,8144,8859,8783,8022},
    {8470,8069,9103,8442,8071,8390,8011,8346,8020,8873,8176,8790,8789,8035},
    {8478,8105,9102,8457,8062,8444,8004,8423,8076,8947,8171,8879,8785,8026},
    {8460,8095,9111,8448,8054,8432,8015,8396,8073,8950,8153,8873,8791,8031},
    {8461,8090,9107,8443,8072,8403,8010,8367,8041,8908,8178,8823,8784,8038},
    {8475,8106,9101,8449,8057,8437,8000,8423,8074,8957,8152,8887,8785,8020},
    {8477,8087,9107,8446,8074,8427,8012,8382,8055,8941,8169,8854,8799,8039},
    {8466,8095,9094,8451,8068,8434,8008,8402,8060,8949,8176,8870,8785,8030},
    {8462,8080,9103,8442,8054,8411,8006,8383,8058,8926,8159,8844,8784,8024},
    {8470,8078,9109,8454,8071,8399,8010,8367,8045,8900,8180,8810,8784,8045},
    {8469,8104,9100,8464,8058,8443,8009,8427,8082,8955,8154,8889,8779,8029},
    {8472,8085,9110,8448,8076,8427,8018,8382,8066,8940,8165,8852,8788,8036},
    {8469,8090,9099,8452,8072,8426,8007,8402,8059,8949,8177,8861,8783,8035},
    {8457,8086,9100,8440,8049,8414,8005,8392,8054,8934,8151,8853,8787,8027},
    {8471,8081,9112,8441,8073,8397,8013,8350,8033,8888,8173,8796,8787,8045},
    {8475,8103,9102,8467,8059,8440,8006,8435,8074,8949,8154,8890,8785,8031},
    {8468,8087,9106,8454,8064,8434,8012,8410,8077,8956,8163,8879,8794,8036},
    {8467,8090,9100,8452,8074,8429,8011,8397,8063,8951,8183,8862,8781,8036},
    {8463,8087,9097,8449,8051,8414,8006,8392,8047,8928,8147,8859,8781,8022},
    {8470,8074,9108,8438,8071,8384,8007,8340,8024,8874,8171,8784,8792,8043},
    {8471,8109,9101,8457,8062,8439,7999,8427,8075,8951,8169,8878,8786,8027},
    {8468,8095,9103,8448,8059,8437,8006,8406,8071,8956,8161,8877,8790,8030},
    {8469,8086,9101,8447,8074,8413,8006,8369,8044,8922,8182,8829,8788,8041},
    {8462,8103,9099,8459,8058,8433,8004,8413,8072,8960,8159,8884,8787,8022},
    {8469,8090,9109,8450,8073,8424,8015,8379,8058,8938,8177,8841,8791,8044},
    {8472,8100,9101,8454,8063,8435,8009,8411,8066,8953,8166,8869,8780,8038},
    {8466,8083,9103,8442,8053,8409,8010,8382,8050,8926,8149,8850,8787,8024},
    {8472,8081,9104,8442,8072,8397,8014,8363,8034,8891,8179,8812,8789,8041},
    {8472,8106,9095,8456,8056,8440,8008,8434,8079,8950,8154,8893,8784,8034},
    {8468,8091,9109,8447,8073,8429,8013,8391,8063,8938,8173,8858,8798,8042},
    {8468,8097,9107,8449,8070,8434,8007,8398,8060,8947,8175,8866,8791,8032},
    {8470,8083,9100,8445,8049,8414,8006,8385,8056,8931,8143,8856,8785,8024},
    {8474,8077,9102,8447,8076,8390,8010,8354,8031,8881,8178,8798,8793,8039},
    {8471,8109,9097,8459,8064,8443,8004,8434,8076,8945,8165,8883,8790,8021},
    {8474,8093,9108,8445,8066,8438,8010,8402,8071,8948,8160,8866,8792,8036},
    {8471,8092,9103,8451,8072,8422,8006,8392,8059,8939,8175,8857,8781,8039},
    {8459,8090,9097,8449,8051,8415,8004,8388,8057,8937,8153,8860,8782,8021},
    {8466,8079,9107,8442,8071,8396,8011,8340,8031,8885,8175,8794,8789,8048},
    {8473,8108,9099,8462,8062,8438,8007,8427,8078,8940,8163,8883,8782,8032},
    {8472,8097,9098,8455,8065,8437,8012,8414,8083,8959,8163,8887,8789,8026},
    {8466,8090,9101,8450,8074,8423,8008,8383,8051,8933,8180,8846,8785,8039},
    {8461,8096,9099,8450,8047,8434,8003,8411,8061,8947,8151,8876,8783,8024},
    {8470,8081,9106,8446,8069,8419,8013,8373,8047,8925,8181,8834,8791,8041},
    {8468,8098,9100,8464,8067,8438,8005,8420,8060,8952,8173,8885,8782,8031},
    {8467,8085,9101,8447,8058,8417,8004,8384,8050,8924,8152,8849,8783,8027},
    {8470,8081,9105,8440,8073,8400,8008,8355,8034,8893,8179,8796,8786,8045},
    {8465,8106,9095,8458,8052,8436,8005,8431,8074,8959,8155,8889,8785,8028},
    {8471,8094,9105,8450,8069,8429,8012,8390,8066,8950,8174,8860,8788,8040},
    {8472,8097,9107,8452,8069,8433,8007,8401,8062,8952,8174,8870,8780,8036},
    {8464,8081,9098,8442,8053,8413,8008,8387,8048,8929,8146,8854,8787,8028},
    {8473,8077,9103,8440,8069,8394,8014,8354,8027,8882,8177,8793,8795,8044},
    {8477,8109,9106,8457,8052,8444,8004,8434,8076,8951,8156,8887,8787,8026},
    {8475,8093,9112,8444,8062,8439,8009,8400,8072,8955,8160,8870,8787,8037},
    {8467,8092,9102,8444,8064,8431,8009,8392,8064,8947,8177,8863,8781,8037},
    {8460,8085,9094,8448,8043,8417,8001,8395,8061,8934,8152,8868,8786,8017},
    {8468,8070,9108,8448,8072,8388,8008,8350,8028,8875,8171,8792,8792,8041},
    {8471,8104,9104,8456,8063,8442,8010,8422,8074,8939,8153,8870,8784,8032},
    {8471,8095,9103,8444,8061,8445,8012,8404,8083,8966,8159,8881,8794,8033},
    {8468,8084,9102,8445,8072,8419,8007,8377,8056,8942,8182,8848,8794,8036},
    {8463,8091,9098,8447,8053,8426,8002,8402,8061,8944,8146,8866,8788,8017},
    {8474,8081,9105,8439,8073,8416,8013,8373,8048,8917,8167,8822,8794,8043},
    {8473,8097,9098,8448,8063,8440,8010,8419,8072,8953,8167,8880,8784,8034},
    {8464,8086,9098,8442,8055,8414,8010,8384,8059,8932,8156,8857,8785,8024},
    {8468,8084,9105,8450,8074,8397,8011,8370,8038,8896,8177,8810,8787,8042},
    {8476,8104,9097,8461,8057,8443,8004,8437,8079,8955,8156,8883,8783,8032},
    {8474,8090,9105,8447,8071,8431,8009,8388,8062,8942,8176,8851,8789,8043},
    {8461,8094,9107,8454,8070,8425,8006,8403,8054,8935,8171,8867,8783,8032},
    {8468,8086,9100,8442,8059,8415,8006,8384,8051,8924,8155,8846,8783,8026},
    {8479,8083,9110,8442,8071,8398,8011,8350,8029,8888,8180,8793,8787,8045},
    {8471,8105,9104,8469,8051,8436,8000,8430,8072,8940,8158,8887,8784,8026},
    {8469,8089,9105,8457,8066,8436,8008,8396,8073,8949,8174,8867,8793,8040},
    {8466,8092,9111,8452,8068,8425,8014,8394,8058,8943,8175,8859,8789,8037},
    {8471,8089,9095,8446,8052,8417,8009,8395,8058,8926,8152,8849,8784,8025},
    {8471,8071,9107,8442,8072,8392,8017,8343,8030,8869,8170,8781,8794,8046},
    {8467,8103,9098,8463,8062,8437,8007,8422,8068,8934,8163,8876,8785,8025},
    {8471,8106,9099,8452,8063,8448,8013,8418,8082,8977,8168,8894,8788,8031},
    {8458,8083,9117,8440,8062,8411,8017,8380,8053,8930,8153,8850,8789,8034},
    {8472,8091,9075,8449,8062,8427,7990,8387,8061,8931,8177,8842,8766,8028},
    {8465,8086,9107,8453,8075,8410,8012,8368,8043,8914,8173,8823,8795,8047},
    {8448,8091,9126,8457,8049,8415,8023,8414,8064,8924,8115,8882,8800,8017},
    {8481,8089,9075,8445,8067,8434,8005,8378,8071,8932,8188,8832,8774,8033},
    {8469,8080,9108,8449,8075,8415,8010,8363,8042,8904,8192,8815,8797,8047},
    {8453,8094,9115,8459,8051,8433,8000,8420,8077,8939,8133,8892,8796,8016},
    {8474,8093,9093,8446,8080,8435,8007,8381,8072,8948,8185,8845,8784,8039},
    {8465,8094,9098,8451,8074,8428,8014,8398,8058,8949,8168,8864,8790,8030},
    {8462,8081,9098,8450,8060,8411,8002,8382,8049,8924,8148,8848,8789,8024},
    {8468,8082,9106,8447,8074,8401,8007,8360,8033,8888,8185,8804,8788,8050},
    {8466,8107,9093,8454,8055,8441,8008,8430,8081,8947,8159,8892,8789,8030},
    {8473,8087,9091,8446,8074,8432,8011,8397,8077,8956,8174,8864,8794,8038},
    {8468,8088,9102,8449,8075,8429,8008,8394,8058,8950,8175,8852,8786,8034},
    {8463,8087,9096,8447,8056,8421,8005,8385,8052,8937,8145,8853,8785,8021},
    {8467,8074,9094,8446,8082,8398,8009,8355,8032,8887,8185,8804,8790,8047},
    {8464,8097,9095,8457,8065,8435,8005,8433,8072,8935,8166,8885,8785,8031},
    {8472,8095,9095,8447,8068,8437,8010,8404,8083,8962,8163,8877,8789,8034},
    {8468,8092,9094,8444,8078,8426,8011,8380,8065,8948,8180,8853,8789,8043},
    {8457,8082,9096,8442,8051,8417,8004,8391,8052,8929,8150,8858,8788,8024},
    {8471,8075,9097,8446,8077,8402,8005,8356,8034,8895,8179,8798,8789,8044},
    {8469,8100,9096,8465,8072,8438,8005,8422,8071,8943,8158,8872,8787,8034},
    {8465,8086,9102,8451,8065,8430,8012,8393,8066,8939,8144,8865,8795,8030},
    {8468,8081,9099,8450,8081,8414,8011,8368,8044,8906,8182,8820,8788,8040},
    {8465,8092,9095,8460,8057,8435,8005,8430,8071,8945,8152,8879,8782,8022},
    {8470,8084,9101,8450,8075,8428,8010,8396,8062,8946,8174,8846,8792,8044},
    {8463,8094,9101,8456,8069,8431,8007,8406,8060,8949,8170,8870,8788,8034},
    {8466,8081,9102,8445,8055,8408,8007,8376,8049,8918,8147,8842,8787,8024},
    {8474,8077,9102,8446,8079,8397,8012,8361,8041,8895,8186,8794,8787,8053},
    {8462,8094,9099,8462,8060,8431,8011,8435,8078,8947,8157,8885,8785,8031},
    {8471,8085,9101,8446,8071,8427,8014,8390,8068,8946,8170,8865,8786,8033},
    {8470,8091,9099,8450,8073,8428,8007,8392,8054,8949,8177,8863,8781,8041},
    {8460,8073,9099,8448,8049,8408,8008,8387,8044,8914,8140,8844,8787,8029},
    {8468,8065,9100,8441,8077,8397,8011,8350,8034,8868,8182,8781,8787,8039},
    {8463,8105,9099,8457,8066,8442,8007,8427,8077,8945,8163,8881,8783,8021},
    {8469,8101,9099,8453,8066,8442,8012,8404,8082,8969,8159,8882,8789,8036},
    {8468,8087,9098,8454,8074,8432,8004,8388,8061,8949,8179,8856,8784,8046},
    {8461,8071,9101,8447,8055,8401,7998,8391,8035,8918,8142,8847,8784,8020},
    {8477,8071,9100,8440,8079,8384,8007,8349,8021,8867,8179,8780,8790,8044},
    {8473,8108,9098,8458,8064,8440,8009,8422,8077,8929,8167,8869,8788,8035},
    {8466,8090,9104,8446,8065,8428,8015,8404,8072,8946,8151,8869,8790,8030},
    {8461,8078,9100,8441,8082,8408,8009,8374,8042,8904,8183,8818,8784,8046},
    {8461,8093,9097,8452,8046,8433,8002,8415,8070,8931,8148,8870,8785,8026},
    {8477,8087,9100,8450,8072,8433,8008,8379,8067,8939,8174,8838,8791,8042},
    {8464,8095,9102,8452,8079,8431,8005,8396,8067,8939,8175,8859,8789,8036},
    {8461,8083,9103,8445,8056,8402,8010,8379,8051,8905,8147,8843,8793,8030},
    {8473,8081,9098,8448,8075,8404,8010,8368,8040,8884,8182,8803,8789,8046},
    {8463,8097,9105,8455,8059,8434,8003,8424,8075,8927,8152,8869,8785,8017},
    {8479,8087,9106,8447,8070,8425,8006,8386,8075,8937,8173,8850,8788,8037},
    {8471,8088,9099,8449,8070,8423,8004,8391,8062,8929,8186,8851,8782,8049},
    {8456,8077,9105,8443,8049,8398,8003,8382,8040,8898,8139,8834,8794,8026},
    {8472,8075,9102,8447,8076,8398,8001,8355,8038,8880,8176,8791,8791,8041},
    {8464,8092,9100,8459,8058,8433,8002,8414,8076,8923,8157,8868,8785,8027},
    {8467,8085,9106,8445,8062,8420,8012,8393,8071,8928,8159,8859,8793,8032},
    {8462,8089,9096,8446,8080,8426,8004,8383,8064,8918,8189,8839,8783,8037},
    {8454,8079,9099,8451,8055,8406,8003,8376,8049,8897,8138,8829,8789,8020},
    {8473,8071,9108,8447,8075,8389,8010,8347,8030,8857,8169,8777,8790,8042},
    {8473,8097,9102,8457,8065,8438,8003,8419,8069,8899,8176,8855,8781,8031},
    {8473,8089,9101,8452,8062,8430,8009,8406,8078,8938,8155,8862,8791,8032},
    {8461,8079,9095,8446,8083,8416,8004,8376,8057,8908,8178,8819,8783,8043},
    {8453,8082,9099,8447,8051,8408,8002,8388,8045,8883,8139,8830,8787,8023},
    {8475,8080,9104,8448,8077,8406,8011,8366,8043,8886,8168,8805,8791,8041},
    {8464,8088,9095,8457,8082,8432,8001,8403,8063,8903,8184,8842,8779,8033},
    {8463,8072,9105,8448,8052,8395,8009,8365,8043,8880,8147,8812,8796,8026},
    {8474,8078,9102,8450,8077,8402,8007,8345,8047,8864,8184,8783,8788,8044},
    {8460,8096,9103,8457,8060,8432,8004,8408,8073,8900,8162,8847,8786,8024},
    {8467,8084,9119,8442,8064,8411,8021,8386,8056,8901,8164,8824,8799,8037},
    {8464,8088,9090,8448,8075,8425,7998,8388,8062,8892,8185,8824,8773,8039},
    {8463,8078,9094,8444,8054,8394,8004,8356,8044,8874,8141,8795,8787,8024},
    {8466,8073,9112,8439,8075,8392,8016,8339,8035,8835,8174,8756,8788,8040},
    {8456,8093,9094,8453,8060,8437,7998,8408,8069,8872,8171,8827,8777,8027},
    {8475,8090,9105,8444,8065,8419,8012,8385,8067,8908,8159,8826,8803,8038},
    {8469,8089,9099,8443,8081,8419,8004,8374,8060,8870,8189,8806,8773,8039},
    {8458,8073,9094,8447,8043,8386,8007,8356,8030,8842,8145,8778,8785,8018},
    {8472,8069,9113,8439,8070,8382,8015,8331,8028,8827,8164,8742,8791,8041},
    {8461,8093,9098,8444,8068,8427,7994,8395,8073,8835,8172,8802,8769,8027},
    {8480,8089,9104,8451,8050,8410,8019,8389,8072,8886,8154,8811,8806,8029},
    {8467,8077,9108,8452,8075,8410,8009,8369,8057,8859,8179,8794,8766,8042},
    {8450,8065,9096,8441,8042,8374,7999,8348,8022,8799,8143,8767,8784,8017},
    {8490,8073,9102,8436,8060,8372,8021,8341,8032,8818,8173,8739,8800,8048},
    {8459,8094,9101,8452,8066,8432,7998,8411,8070,8832,8177,8807,8748,8034},
    {8462,8080,9105,8445,8042,8387,8013,8366,8044,8842,8145,8785,8824,8021},
    {8481,8071,9100,8433,8082,8388,8001,8338,8050,8821,8189,8739,8753,8054},
    {8435,8073,9108,8453,8050,8398,7993,8387,8051,8793,8151,8781,8766,8019},
    {8480,8086,9108,8458,8062,8397,8024,8373,8055,8858,8170,8785,8840,8039},
    {8472,8084,9091,8449,8080,8418,7985,8382,8058,8831,8184,8779,8703,8042},
    {8444,8058,9134,8456,8040,8352,8019,8355,8009,8769,8140,8755,8848,8012},
    {8493,8078,9101,8454,8084,8384,8005,8347,8042,8826,8180,8739,8779,8050},
    {8444,8087,9094,8455,8057,8408,7978,8394,8052,8790,8158,8763,8694,8023},
    {8473,8073,9138,8455,8051,8385,8051,8381,8050,8815,8177,8790,8917,8030},
    {8483,8075,9059,8440,8072,8425,7973,8365,8073,8864,8169,8786,8700,8046},
    {8429,8058,9121,8442,8034,8353,8021,8339,8010,8735,8146,8702,8763,8019},
    {8494,8079,9114,8440,8070,8391,8022,8349,8058,8797,8179,8753,8920,8039},
    {8472,8081,9078,8448,8062,8397,7972,8372,8051,8790,8177,8765,8639,8041},
    {8557,8054,9188,8458,8107,8305,8186,8330,8005,8699,8299,8616,8738,8091},
    {8378,8160,8971,8462,7972,8591,7760,8490,8220,9074,7919,9051,9061,7928},
    {8415,8021,9187,8436,8041,8275,8038,8282,7915,8665,8238,8623,8563,8063},
    {8874,7945,9249,8413,8320,8050,8581,8080,7827,8345,8710,8025,8442,8280},
    {8070,8292,8701,8487,7735,8904,7290,8725,8478,9378,7290,9379,9414,7633},
    {7706,8124,9001,8442,7612,8571,7245,8479,8055,8976,7364,9024,9145,7628},
    {8262,7951,9136,8387,8009,8075,7851,8026,7678,8210,8347,7912,8759,7994},
    {8612,7968,9420,8433,8230,8045,8282,8164,7775,8071,8612,8330,8610,8232},
    {9052,7845,9506,8388,8520,7856,8926,7993,7787,7797,8813,8137,8286,8500},
    {8448,8173,8634,8419,8044,8610,7764,8402,8355,8645,7919,8126,9005,7931},
    {8343,8122,9120,8421,8033,8436,7922,8384,8094,8586,8123,8083,8804,8037},
    {8838,7946,9336,8369,8332,8085,8526,8101,7881,8168,8409,8005,8573,8308},
    {8465,8139,8809,8408,8047,8533,7803,8395,8227,8657,7894,8236,8934,7978},
    {8363,8076,9073,8397,8062,8351,8023,8290,8035,8562,8096,8081,8724,8048},
    {8305,8095,9044,8403,7985,8420,7965,8345,8099,8568,8105,8104,8884,7940},
    {8421,8086,9085,8409,8074,8386,8008,8337,8053,8513,8218,8114,8793,8070},
    {8570,8029,9138,8384,8199,8232,8235,8186,7950,8395,8149,8165,8683,8191},
    {8337,8108,8992,8405,8000,8451,7957,8370,8119,8548,8104,8259,8867,7942},
    {8419,8062,9073,8403,8075,8352,8094,8290,8025,8453,8319,8058,8753,8075},
    {8484,8062,9056,8395,8140,8287,8143,8238,8002,8456,8152,8007,8758,8135},
    {8394,8089,9027,8407,8051,8369,8012,8331,8079,8501,8102,8159,8788,7974},
    {8453,8037,9115,8408,8107,8290,8142,8241,7999,8385,8245,8169,8751,8069},
    {8464,8056,9084,8409,8139,8312,8126,8276,8015,8429,8208,8208,8787,8139},
    {8486,8056,9027,8396,8121,8322,8057,8253,8032,8439,8113,8102,8708,8068},
    {8389,8065,9056,8415,8069,8323,8077,8270,8033,8423,8153,8016,8833,8003},
    {8315,8074,9047,8421,8016,8357,8038,8329,8047,8419,8216,8239,8867,8001},
    {8446,8028,9066,8384,8112,8253,8090,8166,7974,8298,8242,8225,8699,8077},
    {8352,8072,9054,8401,8095,8319,8092,8284,8042,8365,8209,8253,8885,8022},
    {8344,8047,9103,8410,8023,8335,8085,8305,8039,8325,8119,8171,8817,8003},
    {8464,8020,9118,8391,8134,8217,8129,8150,7965,8233,8117,7963,8675,8108},
    {8353,8089,9010,8405,8111,8317,8068,8301,8063,8352,8219,8173,8854,8050},
    {8389,8038,9115,8399,8044,8312,8107,8257,8043,8262,8328,8209,8768,8034},
    {8472,8042,9059,8396,8111,8317,8121,8224,8049,8258,8194,8128,8727,8096},
    {8363,8069,9028,8401,8105,8308,8069,8293,8027,8330,8053,8187,8830,8051},
    {8403,8005,9151,8394,8083,8225,8112,8193,7960,8209,8202,8149,8769,8068},
    {8437,8035,8994,8406,8070,8347,8079,8259,8086,8252,8223,8223,8759,8073},
    {8360,8053,9072,8412,8078,8286,8102,8271,8027,8294,8231,8169,8797,8054},
    {8396,8043,9163,8404,8124,8228,8115,8233,7959,8272,8234,8144,8774,8068},
    {8398,8057,8971,8399,8056,8372,8038,8284,8086,8288,8087,8237,8770,8040},
    {8396,8045,9074,8410,8096,8290,8142,8240,8050,8272,8234,8137,8751,8093},
    {8362,8069,9161,8425,8115,8284,8086,8326,8042,8351,8211,8189,8795,8029},
    {8445,8053,9049,8411,8079,8363,8049,8325,8067,8308,8188,8222,8854,8050},
    {8532,8053,9071,8412,8155,8339,8167,8267,8052,8283,8295,8169,8744,8153},
    {8323,8080,9067,8410,8064,8332,8035,8330,8059,8393,8077,8209,8723,7988},
    {8409,8026,9060,8391,8085,8260,8093,8214,7990,8297,8193,8036,8797,8056},
    {8508,8065,9028,8411,8145,8356,8152,8287,8079,8336,8255,8109,8791,8120},
    {8326,8090,9076,8410,8030,8384,8035,8355,8087,8403,8089,8211,8784,7984},
    {8447,8039,9119,8397,8105,8263,8117,8227,7980,8307,8209,8068,8763,8086},
    {8462,8072,8969,8405,8112,8354,8080,8310,8084,8372,8111,8175,8764,8077},
    {8362,8078,9124,8400,8055,8333,8079,8298,8057,8378,8128,8155,8812,8035},
    {8474,8081,9083,8412,8122,8371,8125,8327,8061,8405,8229,8086,8754,8103},
    {8364,8062,8959,8408,8062,8371,8037,8345,8059,8419,8061,8154,8765,8023},
    {8442,8048,9157,8407,8085,8280,8116,8247,8011,8359,8199,8127,8800,8073},
    {8522,8110,8992,8411,8111,8447,8093,8375,8139,8483,8177,8141,8709,8082},
    {8296,8072,8996,8387,8023,8366,8039,8325,8038,8428,8020,8104,8764,7981},
    {8491,8077,9142,8408,8134,8321,8131,8268,8039,8404,8282,8126,8782,8117},
    {8434,8106,8969,8417,8067,8451,8030,8401,8131,8511,8065,8162,8747,8033},
    {8324,8053,9040,8400,8022,8311,8064,8295,7976,8425,8043,8085,8777,7987},
    {8561,8106,9097,8418,8166,8365,8117,8294,8071,8491,8357,8156,8747,8139},
    {8332,8124,8983,8419,8003,8476,7976,8434,8155,8543,7977,8192,8784,7971},
    {8440,8087,9075,8406,8079,8362,8094,8315,8024,8522,8197,8146,8738,8050},
    {8529,8089,9061,8397,8135,8385,8035,8301,8054,8540,8284,8211,8762,8099},
    {8319,8088,9017,8418,7988,8411,7942,8400,8077,8498,7968,8193,8809,7960},
    {8545,8126,9079,8434,8150,8402,8103,8355,8066,8624,8339,8121,8713,8124},
    {8387,8100,9028,8406,8059,8436,7950,8381,8082,8590,8093,8166,8838,8010},
    {8449,8131,9058,8441,8054,8450,7998,8435,8088,8624,8119,8184,8768,8019},
    {8585,8146,9051,8430,8145,8469,8074,8397,8107,8774,8320,8230,8711,8112},
    {8321,8072,9048,8408,8007,8401,7927,8362,8033,8594,8004,8207,8874,7964},
    {8579,8203,9076,8483,8134,8555,8077,8542,8176,8837,8326,8333,8701,8110},
    {8453,8115,9030,8400,8076,8519,7990,8418,8128,8965,8143,8482,8801,8023},
    {8395,8064,9083,8416,8054,8330,7975,8308,7929,8621,8092,8285,8845,7999},
    {8633,8289,9055,8517,8162,8667,8091,8709,8276,8890,8359,8592,8699,8131}
};

long timediff(clock_t t1, clock_t t2) {
    long elapsed;
    elapsed = ((double)t2 - t1) / CLOCKS_PER_SEC * 1000;
    return elapsed;
}

void cleanup(int i){
	fprintf(stdout,"Shutting down\n");
	quit=1; 
}

int average(int array[][DEF_COLUMN]) {
    int sum = 0;
    int counter = 0;
    int m, n;
    
    for (m = 0; m < DEF_ROW; m++) {
        for (n = 0; n < DEF_COLUMN; n++) {
            sum += array[m][n]; 
            counter++;
        }
    }
    return (int)(sum / counter);
}

void centering(int array[][DEF_COLUMN], int avg) {
    int m, n;
    
    for (m = 0; m < DEF_ROW; m++) {
        for (n = 0; n < DEF_COLUMN; n++) {
            array[m][n] -= avg;
        }
    }
}

void init_dummy(int array[][DEF_COLUMN]) {
    int m, n;
    
    for (m = 0; m < DEF_ROW; m++) {
        for (n = 0; n < DEF_COLUMN; n++) {
            array[m][n] = dummy_data[n][m];
        }
    }
}


int main(int argc, char **argv)
{
	struct emokit_device* device;
	signal(SIGINT, cleanup); //trap cntrl c
    
    int m, n;
    int data_array[DEF_ROW][DEF_COLUMN];
    
    
    
	quit = 0;
    
    
    clock_t first   = clock();
    
    init_dummy(data_array);
    
    int row     = LENGTH(data_array);
    int column  = LENGTH(data_array[0]);
    
//    printf("%d x %d\n", row, column);
    
//    for (m = 0; m < row; m++) {
//        for (n = 0; n < column; n++) {
//            printf("%d, ", data_array[m][n]);
//        }
//        printf("\n");
//    }
    
//    printf("######################################################################################\n");
    
    int avg = average(data_array);
    
    printf("Average : %d\n", avg);
    
//    printf("######################################################################################\n");
    centering(data_array, avg);
    
    for (m = 0; m < row; m++) {
        for (n = 0; n < column; n++) {
            printf("%d, ", data_array[m][n]);
        }
        printf("\n");
    }
    
    clock_t second  = clock();
    
    long elapsed    = timediff(first, second);
    printf("elapsed: %ld ms\n", elapsed);
    
    return 0;
}
